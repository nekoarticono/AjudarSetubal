<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Cidadania Digital - Setúbal</title>
</head>
<body>

    <!-- Barra Superior -->
    <header class="barra-superior">
        <h1>AjudarSetubal</h1>
        <div class="logo-setubal">Setúbal</div>
    </header>

  <nav class="barra-menu">
  <div class="menu-overlay" id="menu-overlay"></div>

    <div class="menu-esquerda">
        <button class="icone-menu" onclick="toggleMenu()">☰</button>
        <span class="nome-site"></span>
    </div>

    <!-- Menu Desktop -->
    <div class="menu-direita desktop-menu">
        <a href="login.html"><button class="botao-entrar">Criar conta</button></a>
        <a href="login2.html"><button class="botao-login">Login</button></a>
        <a href="Pag_Reportes.html"><button class="botao-reportar">Reporta Ocorrencia</button></a>
    </div>

</nav>

<!-- Menu Mobile (fora da nav!) -->
<div class="menu-mobile" id="menu-mobile">
    <a href="login.html">Criar conta</a>
    <a href="login2.html">Login</a>
    <a href="Pag_Reportes.html">Reportar Ocorrencia</a>
    
</div>

    <!-- Banner -->
    <section class="banner">
        <div class="image-container">
            <img src="setubal.png" alt="Banner">
            <div class="texto-banner">
                <h2>Plataforma de ocorrências no Município</h2>
            </div>
        </div>
    </section>

 <!--Noticias-->
<h2 class="titulo-noticias">Notícias</h2>

<div class="noticias-container">

    <button class="seta seta-esquerda" id="setaEsquerda">❮</button>

    <div class="noticias-carousel" id="carouselNoticias">

        <div class="noticia-card">
            <img src="img1.jpg" alt="">
            <p>Aviso de mau tempo — chuva intensa e possíveis inundações</p>
        </div>

        <div class="noticia-card">
            <img src="img2.jpg" alt="">
            <p>Câmara Municipal de Setúbal aprova renovação do parque urbano “Parque da Cidade–Riverside Living”</p>
        </div>

        <div class="noticia-card">
            <img src="img3.jpg" alt="">
            <p>Padroeiro homenageado</p>
        </div>

        <div class="noticia-card">
            <img src="img4.jpg" alt="">
            <p>Esterilização de gatos no concelho</p>
        </div>

        <div class="noticia-card">
            <img src="img5.jpg" alt="">
            <p>Novas obras na Avenida de Moçambique</p>
        </div>

    </div>

    <button class="seta seta-direita" id="setaDireita">❯</button>
</div>
<script>
const carousel = document.getElementById("carouselNoticias");
const setaEsquerda = document.getElementById("setaEsquerda");
const setaDireita = document.getElementById("setaDireita");

// rola 1 card por vez
setaDireita.onclick = () => carousel.scrollBy({ left: 320, behavior: "smooth" });
setaEsquerda.onclick = () => carousel.scrollBy({ left: -320, behavior: "smooth" });
</script>

</div>


    <!-- Vídeo + Texto Lado a Lado -->
    <section class="secao-lateral">
        <div class="video-lateral">
            <video autoplay loop muted playsinline controls>
                <source src="Setúbal  Portugal  4K Aerial Cinematic Drone 1.mp4" type="video/mp4">
                O seu navegador não suporta vídeo.
            </video>
        </div>
        <div class="texto-lateral">
            <h3>Sobre Setúbal</h3>
            <p>
                Setúbal é uma cidade costeira conhecida pelas praias da Arrábida,
                pela serra magnífica e pela sua forte identidade cultural.
                É um município em crescimento e com cidadãos que participam
                ativamente na melhoria da qualidade urbana.
            </p>
        </div>
    </section>

    <!-- Rodapé -->
 <footer class="rodape">
    <span class="divisor-footer">|</span>
    <a href="privacidade.html" class="link-rodape">Política de Privacidade</a>
    <span class="divisor-footer">|</span>
    <a href="Ajuda.html" class="link-rodape">Ajuda</a>
    <span class="divisor-footer">|</span>
</footer>


    <!-- Script para menu mobile -->
    <script>
        function toggleMenu() {
            const menu = document.getElementById('menu-mobile');
            menu.classList.toggle('open');
        }
    
    // Fecha menu mobile se clicar fora dele
document.addEventListener('click', function(event) {
    const menu = document.getElementById('menu-mobile');
    const botaoMenu = document.querySelector('.icone-menu');

    // Se o menu estiver aberto e o clique não for nem no menu nem no botão
    if (menu.classList.contains('open') && !menu.contains(event.target) && !botaoMenu.contains(event.target)) {
        menu.classList.remove('open');
    }
});
    </script>
<script>
window.onload = function () {
    const username = localStorage.getItem("username");
    const userUID = localStorage.getItem("userUID");

    const botaoReportar = document.querySelectorAll("a[href='Pag_Reportes.html']");
    const menuDireita = document.querySelector('.menu-direita');
    const menuMobile = document.getElementById("menu-mobile");

    if (!userUID) {
        botaoReportar.forEach(btn => btn.style.display = "none");
        return;
    }

    // --- Se está logado ---
    botaoReportar.forEach(btn => btn.style.display = "inline-block");

    // Esconder login/criar conta (desktop)
    menuDireita.querySelectorAll(".botao-login, .botao-entrar")
        .forEach(el => el.style.display = "none");

    // --- Desktop: username + logout ---
    const userContainer = document.createElement("div");
    userContainer.style.display = "flex";
    userContainer.style.alignItems = "center";
    userContainer.style.gap = "10px";

    const userNameSpan = document.createElement("span");
    userNameSpan.textContent = username;
    userNameSpan.style.fontWeight = "bold";
    userNameSpan.style.color = "#4d7e97";

    const logoutBtn = document.createElement("button");
    logoutBtn.textContent = "Logout";
    logoutBtn.style.background = "#d9534f";
    logoutBtn.style.color = "white";
    logoutBtn.style.border = "none";
    logoutBtn.style.padding = "8px 15px";
    logoutBtn.style.cursor = "pointer";
    logoutBtn.style.fontWeight = "bold";

    logoutBtn.onclick = () => {
        localStorage.removeItem("userUID");
        localStorage.removeItem("username");
        window.location.reload();
    };

    userContainer.appendChild(userNameSpan);
    userContainer.appendChild(logoutBtn);
    menuDireita.appendChild(userContainer);

    // --- Mobile ---
    menuMobile.querySelectorAll("a[href='login.html'], a[href='login2.html']")
        .forEach(el => el.style.display = "none");

    const mobileUserContainer = document.createElement("div");
    mobileUserContainer.style.display = "flex";
    mobileUserContainer.style.alignItems = "center";
    mobileUserContainer.style.justifyContent = "space-between";
    mobileUserContainer.style.padding = "10px";
    mobileUserContainer.style.borderBottom = "1px solid #ccc";

    const mobileUserName = document.createElement("span");
    mobileUserName.textContent = username;
    mobileUserName.style.fontWeight = "bold";
    mobileUserName.style.color = "#4d7e97";

    const mobileLogoutBtn = document.createElement("button");
    mobileLogoutBtn.textContent = "Logout";
    mobileLogoutBtn.style.background = "none";
    mobileLogoutBtn.style.color = "red";
    mobileLogoutBtn.style.border = "none";
    mobileLogoutBtn.style.fontWeight = "bold";
    mobileLogoutBtn.style.cursor = "pointer";

    mobileLogoutBtn.onclick = () => {
        localStorage.removeItem("userUID");
        localStorage.removeItem("username");
        window.location.reload();
    };

    mobileUserContainer.appendChild(mobileUserName);
    mobileUserContainer.appendChild(mobileLogoutBtn);
    menuMobile.prepend(mobileUserContainer);
};
</script>


<script>
</script>

</body>
</html>

